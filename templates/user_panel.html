{% extends "layout_tailwind.html" %}

{% block title %}{{ title }} - Art of Museum{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto p-6">
    <div class="bg-gradient-to-r from-amber-100 to-rose-50 rounded-3xl shadow-xl p-8 border border-amber-200">
        <h1 class="text-4xl font-bold text-rose-900 mb-4">{{ title }}</h1>
        <p class="text-lg text-gray-700 mb-8">Hoş geldin, <span class="font-semibold text-rose-700">{{ current_user.username }}</span>! Bu panelden yazılarınızı yönetebilirsiniz.</p>
        
        <!-- İçerik Yönetimi -->
        <div class="bg-white rounded-2xl p-6 mb-8 shadow-lg">
            <h2 class="text-2xl font-semibold text-rose-800 mb-4">İçerik Yönetimi</h2>
            <a href="{{ url_for('user_add_post_page') }}" class="inline-block px-6 py-3 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                <i class="fas fa-plus mr-2"></i>
                Yeni Yazı Gönder
            </a>
        </div>

        <!-- Yazılarınız -->
        <div class="bg-white rounded-2xl p-6 shadow-lg">
            <h2 class="text-2xl font-semibold text-rose-800 mb-4">Yazılarınız</h2>
            {% if posts %}
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white rounded-xl shadow text-sm">
                        <thead class="bg-amber-100 text-rose-900">
                            <tr>
                                <th class="py-3 px-4 text-left">Başlık</th>
                                <th class="py-3 px-4 text-left">Tarih</th>
                                <th class="py-3 px-4 text-left">Durum</th>
                                <th class="py-3 px-4 text-left">İşlemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for post in posts %}
                                <tr class="border-b last:border-0">
                                    <td class="py-2 px-4">
                                        <a href="{{ url_for('blog_post_detail_page', post_id=post.id) }}" class="text-rose-700 hover:underline font-medium">
                                            {{ post.title }}
                                        </a>
                                    </td>
                                    <td class="py-2 px-4">{{ post.date_posted.strftime('%Y-%m-%d') }}</td>
                                    <td class="py-2 px-4">
                                        <span class="px-3 py-1 rounded-full text-xs font-semibold
                                            {% if post.status == 'yayinlandi' %}
                                                bg-green-100 text-green-800
                                            {% elif post.status == 'beklemede' %}
                                                bg-yellow-100 text-yellow-800
                                            {% else %}
                                                bg-red-100 text-red-800
                                            {% endif %}">
                                            {{ post.status|title }}
                                        </span>
                                    </td>
                                    <td class="py-2 px-4 flex flex-wrap gap-2">
                                        <a href="{{ url_for('edit_post_page', post_id=post.id) }}" class="px-3 py-1 rounded bg-amber-400 hover:bg-amber-500 text-white font-semibold text-xs transition">
                                            Düzenle
                                        </a>
                                        <a href="{{ url_for('delete_post_confirm_page', post_id=post.id) }}" class="px-3 py-1 rounded bg-red-500 hover:bg-red-600 text-white font-semibold text-xs transition">
                                            Sil
                                        </a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="text-center text-gray-500 py-8">
                    <i class="fas fa-file-alt text-4xl mb-4"></i>
                    <p class="text-lg">Henüz yazı göndermediniz.</p>
                    <a href="{{ url_for('user_add_post_page') }}" class="inline-block mt-4 px-6 py-3 bg-gradient-to-r from-rose-600 to-rose-700 hover:from-rose-700 hover:to-rose-800 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all">
                        İlk Yazınızı Gönderin
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
